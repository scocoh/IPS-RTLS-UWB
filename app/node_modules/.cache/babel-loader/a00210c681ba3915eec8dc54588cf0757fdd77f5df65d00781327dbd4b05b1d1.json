{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MapPreview=_ref=>{let{mapId,onClose}=_ref;const[imageSrc,setImageSrc]=useState(null);const[error,setError]=useState(null);useEffect(()=>{fetchMapImage();},[mapId]);const fetchMapImage=async()=>{try{const response=await fetch(`/maps/map_image/${mapId}`);if(!response.ok)throw new Error(\"Failed to load map image\");const blob=await response.blob();const url=URL.createObjectURL(blob);setImageSrc(url);}catch(err){setError(err.message);}};return/*#__PURE__*/_jsx(\"div\",{style:{position:\"fixed\",top:0,left:0,width:\"100%\",height:\"100%\",backgroundColor:\"rgba(0,0,0,0.8)\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:\"white\",padding:\"20px\",borderRadius:\"8px\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Map Preview\"}),error?/*#__PURE__*/_jsxs(\"p\",{style:{color:\"red\"},children:[\"\\u274C \",error]}):imageSrc?/*#__PURE__*/_jsx(\"img\",{src:imageSrc,alt:\"Map Preview\",style:{maxWidth:\"500px\",maxHeight:\"500px\"}}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{padding:\"10px\",marginTop:\"10px\",background:\"red\",color:\"white\",border:\"none\",cursor:\"pointer\"},children:\"Close\"})]})});};export default MapPreview;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","MapPreview","_ref","mapId","onClose","imageSrc","setImageSrc","error","setError","fetchMapImage","response","fetch","ok","Error","blob","url","URL","createObjectURL","err","message","style","position","top","left","width","height","backgroundColor","display","justifyContent","alignItems","children","background","padding","borderRadius","textAlign","color","src","alt","maxWidth","maxHeight","onClick","marginTop","border","cursor"],"sources":["/home/parcoadmin/parco_fastapi/app/src/components/MapPreview.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst MapPreview = ({ mapId, onClose }) => {\n    const [imageSrc, setImageSrc] = useState(null);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        fetchMapImage();\n    }, [mapId]);\n\n    const fetchMapImage = async () => {\n        try {\n            const response = await fetch(`/maps/map_image/${mapId}`);\n            if (!response.ok) throw new Error(\"Failed to load map image\");\n\n            const blob = await response.blob();\n            const url = URL.createObjectURL(blob);\n            setImageSrc(url);\n        } catch (err) {\n            setError(err.message);\n        }\n    };\n\n    return (\n        <div style={{\n            position: \"fixed\", top: 0, left: 0, width: \"100%\", height: \"100%\",\n            backgroundColor: \"rgba(0,0,0,0.8)\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\"\n        }}>\n            <div style={{\n                background: \"white\", padding: \"20px\", borderRadius: \"8px\", textAlign: \"center\"\n            }}>\n                <h3>Map Preview</h3>\n                {error ? <p style={{ color: \"red\" }}>‚ùå {error}</p> : (\n                    imageSrc ? <img src={imageSrc} alt=\"Map Preview\" style={{ maxWidth: \"500px\", maxHeight: \"500px\" }} /> : <p>Loading...</p>\n                )}\n                <br />\n                <button onClick={onClose} style={{ padding: \"10px\", marginTop: \"10px\", background: \"red\", color: \"white\", border: \"none\", cursor: \"pointer\" }}>Close</button>\n            </div>\n        </div>\n    );\n};\n\nexport default MapPreview;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAwB,IAAvB,CAAEC,KAAK,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CAClC,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACZa,aAAa,CAAC,CAAC,CACnB,CAAC,CAAE,CAACN,KAAK,CAAC,CAAC,CAEX,KAAM,CAAAM,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,mBAAmBR,KAAK,EAAE,CAAC,CACxD,GAAI,CAACO,QAAQ,CAACE,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,0BAA0B,CAAC,CAE7D,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClC,KAAM,CAAAC,GAAG,CAAGC,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC,CACrCR,WAAW,CAACS,GAAG,CAAC,CACpB,CAAE,MAAOG,GAAG,CAAE,CACVV,QAAQ,CAACU,GAAG,CAACC,OAAO,CAAC,CACzB,CACJ,CAAC,CAED,mBACIrB,IAAA,QAAKsB,KAAK,CAAE,CACRC,QAAQ,CAAE,OAAO,CAAEC,GAAG,CAAE,CAAC,CAAEC,IAAI,CAAE,CAAC,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CACjEC,eAAe,CAAE,iBAAiB,CAAEC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAC/F,CAAE,CAAAC,QAAA,cACE9B,KAAA,QAAKoB,KAAK,CAAE,CACRW,UAAU,CAAE,OAAO,CAAEC,OAAO,CAAE,MAAM,CAAEC,YAAY,CAAE,KAAK,CAAEC,SAAS,CAAE,QAC1E,CAAE,CAAAJ,QAAA,eACEhC,IAAA,OAAAgC,QAAA,CAAI,aAAW,CAAI,CAAC,CACnBvB,KAAK,cAAGP,KAAA,MAAGoB,KAAK,CAAE,CAAEe,KAAK,CAAE,KAAM,CAAE,CAAAL,QAAA,EAAC,SAAE,CAACvB,KAAK,EAAI,CAAC,CAC9CF,QAAQ,cAAGP,IAAA,QAAKsC,GAAG,CAAE/B,QAAS,CAACgC,GAAG,CAAC,aAAa,CAACjB,KAAK,CAAE,CAAEkB,QAAQ,CAAE,OAAO,CAAEC,SAAS,CAAE,OAAQ,CAAE,CAAE,CAAC,cAAGzC,IAAA,MAAAgC,QAAA,CAAG,YAAU,CAAG,CAC3H,cACDhC,IAAA,QAAK,CAAC,cACNA,IAAA,WAAQ0C,OAAO,CAAEpC,OAAQ,CAACgB,KAAK,CAAE,CAAEY,OAAO,CAAE,MAAM,CAAES,SAAS,CAAE,MAAM,CAAEV,UAAU,CAAE,KAAK,CAAEI,KAAK,CAAE,OAAO,CAAEO,MAAM,CAAE,MAAM,CAAEC,MAAM,CAAE,SAAU,CAAE,CAAAb,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC5J,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAA7B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}